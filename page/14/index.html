<!DOCTYPE html>
<html lang="en">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />









  <link rel="alternate" href="/atom.xml" title="Shell32">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.3.x" />



<link rel="canonical" href="http://blog.xiadong.info/page/14/"/>


<meta property="og:type" content="website">
<meta property="og:title" content="Shell32">
<meta property="og:url" content="http://blog.xiadong.info/page/14/index.html">
<meta property="og:site_name" content="Shell32">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Shell32">
<meta name="twitter:card" content="summary">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.3.x" />



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />





<script>
  var CONFIG = {
    search: false,
    searchPath: "/search.xml",
    fancybox: true,
    toc: true,
  }
</script>




  

  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-97442160-1', 'auto');
        ga('send', 'pageview');
  </script>




<script src="https://use.typekit.net/tqr0ojg.js"></script>
<script>try{Typekit.load({ async: true });}catch(e){}</script>

    <title> Shell32 </title>
  <meta name="generator" content="Hexo 4.2.1"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Shell32</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
      <a href="/about">
        <li class="mobile-menu-item">
          
          
            About
          
        </li>
      </a>
    
      <a href="https://cse.google.com/cse/publicurl?cx=007205548471419455342:wndla_xl_3e" target="_blank" rel="noopener">
        <li class="mobile-menu-item">
          
          
            Search
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Shell32</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              Home
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              Archives
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              Tags
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              Categories
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/about">
            
            
              About
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="https://cse.google.com/cse/publicurl?cx=007205548471419455342:wndla_xl_3e" target="_blank" rel="noopener">
            
            
              Search
            
          </a>
        </li>
      
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  <section id="posts" class="posts">
    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/01/15/leetcode-488-zuma-game/">LeetCode 488. Zuma Game</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Jan 15, 2017
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述：</p>
<blockquote>
<p>Think about Zuma Game. You have a row of balls on the table, colored red®, yellow(Y), blue(B), green(G), and white(W). You also have several balls in your hand.</p>
<p>Each time, you may choose a ball in your hand, and insert it into the row (including the leftmost place and rightmost place). Then, if there is a group of 3 or more balls in the same color touching, remove these balls. Keep doing this until no more balls can be removed.</p>
<p>Find the minimal balls you have to insert to remove all the balls on the table. If you cannot remove all the balls, output -1.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Examples:</span><br><span class="line"></span><br><span class="line">Input: &quot;WRRBBW&quot;, &quot;RB&quot;</span><br><span class="line">Output: -1</span><br><span class="line">Explanation: WRRBBW -&gt; WRR[R]BBW -&gt; WBBW -&gt; WBB[B]W -&gt; WW</span><br><span class="line"></span><br><span class="line">Input: &quot;WWRRBBWW&quot;, &quot;WRBRW&quot;</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: WWRRBBWW -&gt; WWRR[R]BBWW -&gt; WWBBWW -&gt; WWBB[B]WW -&gt; WWWW -&gt; empty</span><br><span class="line"></span><br><span class="line">Input:&quot;G&quot;, &quot;GGGGG&quot;</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: G -&gt; G[G] -&gt; GG[G] -&gt; empty </span><br><span class="line"></span><br><span class="line">Input: &quot;RBYYBBRRB&quot;, &quot;YRBGB&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: RBYYBBRRB -&gt; RBYY[Y]BBRRB -&gt; RBBBRRB -&gt; RRRB -&gt; B -&gt; B[B] -&gt; BB[B] -&gt; empty </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ol>
<li>You may assume that the initial row of balls on the table won’t have any 3 or more consecutive balls with the same color.</li>
<li>The number of balls on the table won’t exceed 20, and the string represents these balls is called “board” in the input.</li>
<li>The number of balls in your hand won’t exceed 5, and the string represents these balls is called “hand” in the input.</li>
<li>Both input strings will be non-empty and only contain characters ‘R’,‘Y’,‘B’,‘G’,‘W’.</li>
</ol>
</blockquote>
<p>这次Contest中最难的题。Zuma游戏的规则，从<code>hand</code>中抽取ball插入到<code>board</code>中，有大于等于三个相同颜色的ball连着就可以消去，问最少几步可以消去，或者无法消去。</p>
<p>初看这道题我以为是图的连通性和最短路径问题（其实也差不多），然后发现构建图的过程中就已经完成了遍历可以得到结果了。使用回溯法，时间上可能效率不高，但好在方法比较容易想到。</p>
<p>对输入的<code>board</code>尝试消去每一个可能的位置，然后对每一个得到的结果递归地进行处理（DFS）。因为<code>board</code>长度不超过20，所以不会因为解空间太大而超时。</p>
<p>代码是Contest的时候写的，可能比较乱……</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMinStep</span><span class="params">(<span class="built_in">string</span> board, <span class="built_in">string</span> hand)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> findMinStepImpl(board, hand);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMinStepImpl</span><span class="params">(<span class="built_in">string</span> board, <span class="built_in">string</span> hand)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(board.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> minStep = INT_MAX;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.size() - <span class="number">1</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i] == board[i + <span class="number">1</span>])&#123;</span><br><span class="line">                <span class="keyword">if</span>(findBall(board[i], hand) != <span class="number">-1</span>)&#123;</span><br><span class="line">                    <span class="built_in">string</span> tb = board, th = hand;</span><br><span class="line">                    <span class="keyword">char</span> ball = board[i];</span><br><span class="line">                    removeBall(ball, th);</span><br><span class="line">                    tb.insert(tb.begin() + i, ball);</span><br><span class="line">                    removeThree(tb);</span><br><span class="line">                    <span class="keyword">int</span> ans = findMinStepImpl(tb, th);</span><br><span class="line">                    <span class="keyword">if</span>(ans != <span class="number">-1</span>) minStep = min(minStep, ans + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(minStep != INT_MAX)</span><br><span class="line">            <span class="keyword">return</span> minStep;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.size(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(findBall(board[i], hand) != <span class="number">-1</span>)&#123;</span><br><span class="line">                <span class="built_in">string</span> tb = board, th = hand;</span><br><span class="line">                <span class="keyword">char</span> ball = board[i];</span><br><span class="line">                removeBall(ball, th);</span><br><span class="line">                tb.insert(tb.begin() + i, ball);</span><br><span class="line">                <span class="keyword">int</span> ans = findMinStepImpl(tb, th);</span><br><span class="line">                <span class="keyword">if</span>(ans != <span class="number">-1</span>) minStep = min(minStep, ans + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(minStep != INT_MAX)</span><br><span class="line">            <span class="keyword">return</span> minStep;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findBall</span><span class="params">(<span class="keyword">char</span> ball, <span class="built_in">string</span> &amp;hand)</span></span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> iter = find(hand.begin(), hand.end(), ball);</span><br><span class="line">        <span class="keyword">if</span>(iter == hand.end()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> iter - hand.begin();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">removeBall</span><span class="params">(<span class="keyword">char</span> ball, <span class="built_in">string</span> &amp;hand)</span></span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> iter = find(hand.begin(), hand.end(), ball);</span><br><span class="line">        <span class="keyword">if</span>(iter != hand.end())&#123;</span><br><span class="line">            hand.erase(iter);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">removeThree</span><span class="params">(<span class="built_in">string</span> &amp;b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(b.size() &lt; <span class="number">3</span>) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; b.size(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(b[i] == b[i - <span class="number">1</span>])&#123;</span><br><span class="line">                <span class="keyword">int</span> j;</span><br><span class="line">                <span class="keyword">for</span>(j = i; j &lt; b.size() &amp;&amp; b[j] == b[i]; j++);</span><br><span class="line">                <span class="keyword">if</span>(j - i + <span class="number">1</span> &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">                    b.erase(i - <span class="number">1</span>, j - i + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">return</span> removeThree(b);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/01/15/leetcode-487-max-consecutive-ones-ii/">LeetCode 487. Max Consecutive Ones II</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Jan 15, 2017
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述：</p>
<blockquote>
<p>Given a binary array, find the maximum number of consecutive 1s in this array if you can flip at most one 0.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,0,1,1,0]</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: Flip the first zero will get the the maximum number of consecutive 1s.</span><br><span class="line">    After flipping, the maximum number of consecutive 1s is 4.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ul>
<li>The input array will only contain <code>0</code> and <code>1</code>.</li>
<li>The length of input array is a positive integer and will not exceed 10,000</li>
</ul>
<p><strong>Follow up:</strong>
What if the input numbers come in one by one as an <strong>infinite stream</strong>? In other words, you can’t store all numbers coming from the stream as it’s too large to hold in memory. Could you solve it efficiently?</p>
</blockquote>
<p>这道题是上一题的升级版。区别在于可以把最多一个0视为1，再求最长的连续1的个数。</p>
<p>我的解法也延续上一题的思路使用双指针，不过这次增加一个变量来记录跳过了多少个0。需要注意的是<code>...100</code>这种情况，左指针（指向子串开头的位置）不能只简单地跳过所有1之后再加1，而应该继续跳过连续的0，这可能导致左指针超过右指针，所以这时要更新右指针。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMaxConsecutiveOnes</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> maxNum = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">int</span> p1 = <span class="number">0</span>, p2 = <span class="number">0</span>, zero = <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">for</span>(; p2 &lt; nums.size(); p2++)&#123;</span><br><span class="line">           <span class="keyword">if</span>(nums[p2] == <span class="number">0</span>) zero--;</span><br><span class="line">           <span class="keyword">if</span>(zero &lt; <span class="number">0</span>)&#123;</span><br><span class="line">               maxNum = max(maxNum, p2 - p1);</span><br><span class="line">               <span class="keyword">while</span>(p1 &lt; nums.size() &amp;&amp; nums[p1] != <span class="number">0</span>) p1++;</span><br><span class="line">               <span class="keyword">while</span>(p1 &lt; nums.size() &amp;&amp; nums[p1] != <span class="number">1</span>) &#123;</span><br><span class="line">                   p1++;</span><br><span class="line">                   <span class="keyword">if</span>(zero &lt; <span class="number">1</span>) zero++;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">if</span>(p2 &lt; p1) p2 = p1;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       maxNum = max(maxNum, (<span class="keyword">int</span>)nums.size() - p1);</span><br><span class="line">       <span class="keyword">return</span> maxNum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/01/15/leetcode-485-max-consecutive-ones/">LeetCode 485. Max Consecutive Ones</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Jan 15, 2017
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述：</p>
<blockquote>
<p>Given a binary array, find the maximum number of consecutive 1s in this array.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,1,0,1,1,1]</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The first two digits or the last three digits are consecutive 1s.</span><br><span class="line">    The maximum number of consecutive 1s is 3.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ul>
<li>The input array will only contain <code>0</code> and <code>1</code>.</li>
<li>The length of input array is a positive integer and will not exceed 10,000</li>
</ul>
</blockquote>
<p>最长的连续1的个数。很简单，方法也很多。一开始在最后加一个0是为了方便结尾的处理。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMaxConsecutiveOnes</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        nums.push_back(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> maxNum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> beginIndex = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] == <span class="number">1</span> &amp;&amp; beginIndex == <span class="number">-1</span>)&#123;</span><br><span class="line">                beginIndex = i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[i] == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(beginIndex != <span class="number">-1</span>)&#123;</span><br><span class="line">                    maxNum = max(maxNum, i - beginIndex);</span><br><span class="line">                &#125;</span><br><span class="line">                beginIndex = <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxNum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/01/13/leetcode-390-elimination-game/">LeetCode 390. Elimination Game</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Jan 13, 2017
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述：</p>
<blockquote>
<p>There is a list of sorted integers from 1 to <em>n</em>. Starting from left to right, remove the first number and every other number afterward until you reach the end of the list.</p>
<p>Repeat the previous step again, but this time from right to left, remove the right most number and every other number from the remaining numbers.</p>
<p>We keep repeating the steps again, alternating left to right and right to left, until a single number remains.</p>
<p>Find the last number that remains starting with a list of length <em>n</em>.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">n &#x3D; 9,</span><br><span class="line">1 2 3 4 5 6 7 8 9</span><br><span class="line">2 4 6 8</span><br><span class="line">2 6</span><br><span class="line">6</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">6</span><br></pre></td></tr></table></figure>
</blockquote>
<p>这道题我一开始认为会有一个公式来直接计算出最后一个剩下的数是多少，然后又尝试DP从n-1推出n，都没想出来，最后采用的是递归的方法。对于n来说，当n为偶数时，经过一次处理后剩下<code>n/2</code>个数；当为n奇数时，经过一次处理后剩下<code>(n-1)/2</code>个数，把剩下的数的个数作为下一次处理的输入（假设我们的每次处理返回的是数的下标而不是数的具体值），得到的结果为m，那么我们只要把下标m恢复为本次处理的下标即可。</p>
<p>那么如何回复呢？同样分奇偶进行分类，当n为奇数时，举个例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Index: 0 1 2 3 4</span><br><span class="line">Value: 1 2 3 4 5</span><br><span class="line">Index: _ 0 _ 1 _</span><br><span class="line">Value: _ 2 _ 4 _</span><br></pre></td></tr></table></figure>
<p>无论处理方向正反得到的结果是一样的。可以看出这么一个映射：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">m</span><br><span class="line">0 &#x3D;&gt; 1</span><br><span class="line">1 &#x3D;&gt; 3</span><br><span class="line">2 &#x3D;&gt; 5</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>所以<code>m * 2 + 1</code>就是本次处理的结果中下标为m的数在本次处理之前的下标。</p>
<p>当m为奇数时有类似的规律，只不过要分处理正（从头到尾）反（从尾到头）方向来讨论。对于正向来说，仍然是<code>m * 2 + 1</code>，对于反向来说则是<code>m * 2</code>。</p>
<p>递归终止条件显然为<code>n==1</code>时返回0。每次递归时要对处理方向取反。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> L2R = <span class="number">1</span>, R2L = <span class="number">-1</span>;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lastRemaining</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lastRemainingImpl(n, L2R) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lastRemainingImpl</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> direction)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> t = lastRemainingImpl(n % <span class="number">2</span> ? (n - <span class="number">1</span>) / <span class="number">2</span> : n / <span class="number">2</span>, -direction);</span><br><span class="line">        <span class="keyword">if</span>(n % <span class="number">2</span> || direction == L2R)&#123;</span><br><span class="line">            <span class="keyword">return</span> t * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> t * <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/01/13/leetcode-482-license-key-formatting/">LeetCode 482. License Key Formatting</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Jan 13, 2017
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述：</p>
<blockquote>
<p>Now you are given a string S, which represents a software license key which we would like to format. The string S is composed of alphanumerical characters and dashes. The dashes split the alphanumerical characters within the string into groups. (i.e. if there are M dashes, the string is split into M+1 groups). The dashes in the given string are possibly misplaced.</p>
<p>We want each group of characters to be of length K (except for possibly the first group, which could be shorter, but still must contain at least one character). To satisfy this requirement, we will reinsert dashes. Additionally, all the lower case letters in the string must be converted to upper case.</p>
<p>So, you are given a non-empty string S, representing a license key to format, and an integer K. And you need to return the license key formatted according to the description above.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: S &#x3D; &quot;2-4A0r7-4k&quot;, K &#x3D; 4</span><br><span class="line"></span><br><span class="line">Output: &quot;24A0-R74K&quot;</span><br><span class="line"></span><br><span class="line">Explanation: The string S has been split into two parts, each part has 4 characters.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: S &#x3D; &quot;2-4A0r7-4k&quot;, K &#x3D; 3</span><br><span class="line"></span><br><span class="line">Output: &quot;24-A0R-74K&quot;</span><br><span class="line"></span><br><span class="line">Explanation: The string S has been split into three parts, each part has 3 characters except the first part as it could be shorter as said above.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ol>
<li>The length of string S will not exceed 12,000, and K is a positive integer.</li>
<li>String S consists only of alphanumerical characters (a-z and/or A-Z and/or 0-9) and dashes(-).</li>
<li>String S is non-empty.</li>
</ol>
</blockquote>
<p>题目说了很长，但是意思却很简单。就是把一个输入的字符串从后往前分割为K个一组，第一组可以不足K个。然后用“-”把它们连接起来。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">licenseKeyFormatting</span><span class="params">(<span class="built_in">string</span> S, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">string</span> str;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> c : S)&#123;</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'-'</span>) <span class="keyword">continue</span>;</span><br><span class="line">            str.push_back(<span class="built_in">toupper</span>(c));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">string</span> ans, tmp;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span>(i = str.length(); i &gt;= K; i -= K)&#123;</span><br><span class="line">            ans = str.substr(i - K, K) + <span class="string">"-"</span> + ans;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            ans = str.substr(<span class="number">0</span>, i) + <span class="string">"-"</span> + ans;</span><br><span class="line">        &#125;</span><br><span class="line">        ans.pop_back(); <span class="comment">// Delete "-" in the end of ans.</span></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/01/13/leetcode-476-number-complement/">LeetCode 476. Number Complement</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Jan 13, 2017
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述：</p>
<blockquote>
<p>Given a positive integer, output its complement number. The complement strategy is to flip the bits of its binary representation.</p>
<p><strong>Note:</strong></p>
<ol>
<li>The given integer is guaranteed to fit within the range of a 32-bit signed integer.</li>
<li>You could assume no leading zero bit in the integer’s binary representation.</li>
</ol>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: 5</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: The binary representation of 5 is 101 (no leading zero bits), and its complement is 010. So you need to output 2.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: 1</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: The binary representation of 1 is 1 (no leading zero bits), and its complement is 0. So you need to output 0.</span><br></pre></td></tr></table></figure>
</blockquote>
<p>就是简单的按位取反，不过不能把前导零给取反了，所以要先确定最高位所在的位置，取反后将更高位置零。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findComplement</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">int</span> unum = num;</span><br><span class="line">        <span class="keyword">int</span> sigbit = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(unum)&#123;</span><br><span class="line">            unum &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">            sigbit++;</span><br><span class="line">        &#125;</span><br><span class="line">        unum = ~num;</span><br><span class="line">        unum = unum &lt;&lt; (<span class="number">32</span> - sigbit) &gt;&gt; (<span class="number">32</span> - sigbit);</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>)unum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/01/10/leetcode-481-magical-string/">LeetCode 481. Magical String</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Jan 10, 2017
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述：</p>
<blockquote>
<p>A magical string <strong>S</strong> consists of only ‘1’ and ‘2’ and obeys the following rules:</p>
<p>The string <strong>S</strong> is magical because concatenating the number of contiguous occurrences of characters ‘1’ and ‘2’ generates the string <strong>S</strong> itself.</p>
<p>The first few elements of string <strong>S</strong> is the following: <strong>S</strong> = “1221121221221121122……”</p>
<p>If we group the consecutive '1’s and '2’s in <strong>S</strong>, it will be:</p>
<p>1 22 11 2 1 22 1 22 11 2 11 22 …</p>
<p>and the occurrences of '1’s or '2’s in each group are:</p>
<p>1 2	2 1 1 2 1 2 2 1 2 2 …</p>
<p>You can see that the occurrence sequence above is the <strong>S</strong> itself.</p>
<p>Given an integer N as input, return the number of '1’s in the first N number in the magical string <strong>S</strong>.</p>
<p><strong>Note:</strong> N will not exceed 100,000.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: 6</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The first 6 elements of magical string S is &quot;12211&quot; and it contains three 1&#39;s, so return 3.</span><br></pre></td></tr></table></figure>
</blockquote>
<p>按照一个序列中的数值往这个序列的末尾增加元素，要求1与2是间隔的，不能超过两个相同的值在一起。按照题目给出的规律生成这个序列就可以了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">magicalString</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">s</span><span class="params">(n + <span class="number">1</span>)</span></span>;</span><br><span class="line">        s[<span class="number">0</span>] = <span class="number">1</span>, s[<span class="number">1</span>] = <span class="number">2</span>, s[<span class="number">2</span>] = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> index1 = <span class="number">3</span>, index2 = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(index1 &lt; n)&#123;</span><br><span class="line">            <span class="keyword">int</span> t = s[index1 - <span class="number">1</span>] == <span class="number">1</span> ? <span class="number">2</span> : <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s[index2]; i++)&#123;</span><br><span class="line">                s[index1 + i] = t;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(t == <span class="number">1</span>)&#123;</span><br><span class="line">                ans += s[index2];</span><br><span class="line">            &#125;</span><br><span class="line">            index1 += s[index2];</span><br><span class="line">            index2++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(index1 &gt; n &amp;&amp; s[index1 - <span class="number">1</span>] == <span class="number">1</span>) ans--; </span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/01/10/leetcode-449-serialize-and-deserialize-bst/">LeetCode 449. Serialize and Deserialize BST</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Jan 10, 2017
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述：</p>
<blockquote>
<p>Serialization is the process of converting a data structure or object into a sequence of bits so that it can be stored in a file or memory buffer, or transmitted across a network connection link to be reconstructed later in the same or another computer environment.</p>
<p>Design an algorithm to serialize and deserialize a <strong>binary search tree</strong>. There is no restriction on how your serialization/deserialization algorithm should work. You just need to ensure that a binary search tree can be serialized to a string and this string can be deserialized to the original tree structure.</p>
<p><strong>The encoded string should be as compact as possible.</strong></p>
<p><strong>Note:</strong> Do not use class member/global/static variables to store states. Your serialize and deserialize algorithms should be stateless.</p>
</blockquote>
<p>序列化一个二叉搜索树，有两个问题：</p>
<ol>
<li>如何序列化一个二叉搜索树的节点</li>
<li>如何序列化节点里的值</li>
</ol>
<p>因为二叉搜索树本身的有序性，所以按照先序遍历的顺序来保存节点就足够恢复BST的结构了。而对于节点里的值，最简单的方法是变为字符串，可是节点值的长度各不相同，这给区分不同的节点带来了麻烦，所以我用四个字节（char）来保存一个int，实际上就是计算机中的小端法存储。</p>
<p>对于节点的序列化与反序列化使用递归来实现。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Codec</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">decodeInt</span><span class="params">(<span class="built_in">string</span> &amp;s, <span class="keyword">int</span> begin)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> v = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> t = s[i + begin];</span><br><span class="line">            v |= ((t &amp; <span class="number">0xff</span>) &lt;&lt; (i &lt;&lt; <span class="number">3</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">encodeInt</span><span class="params">(<span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">        <span class="built_in">string</span> s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">            s.push_back(v &amp; <span class="number">0xff</span>);</span><br><span class="line">            v &gt;&gt;= <span class="number">8</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">serialize</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> encodeDFS(root);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">encodeDFS</span><span class="params">(TreeNode *node)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!node) <span class="keyword">return</span> <span class="built_in">string</span>();</span><br><span class="line">        <span class="keyword">return</span> encodeInt(node-&gt;val) + encodeDFS(node-&gt;left) + encodeDFS(node-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line">    <span class="function">TreeNode* <span class="title">deserialize</span><span class="params">(<span class="built_in">string</span> data)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//cout&lt;&lt;data&lt;&lt;endl;</span></span><br><span class="line">        <span class="keyword">return</span> deserializeHelper(data, <span class="number">0</span>, data.length());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">TreeNode* <span class="title">deserializeHelper</span><span class="params">(<span class="built_in">string</span> &amp;data, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(left == right) <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">int</span> v = decodeInt(data, left);</span><br><span class="line">        <span class="comment">//cout&lt;&lt;v&lt;&lt;endl;</span></span><br><span class="line">        TreeNode *node = <span class="keyword">new</span> TreeNode(v);</span><br><span class="line">        <span class="keyword">int</span> mid = right;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = left + <span class="number">4</span>; i &lt; right; i += <span class="number">4</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> t = decodeInt(data, i);</span><br><span class="line">            <span class="keyword">if</span>(t &gt; v) &#123;</span><br><span class="line">                mid = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        node-&gt;left = deserializeHelper(data, left + <span class="number">4</span>, mid);</span><br><span class="line">        node-&gt;right = deserializeHelper(data, mid, right);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Your Codec object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">// Codec codec;</span></span><br><span class="line"><span class="comment">// codec.deserialize(codec.serialize(root));</span></span><br></pre></td></tr></table></figure>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/01/10/leetcode-445-add-two-numbers-ii/">LeetCode 445. Add Two Numbers II</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Jan 10, 2017
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述：</p>
<blockquote>
<p>You are given two <strong>non-empty</strong> linked lists representing two non-negative integers. The most significant digit comes first and each of their nodes contain a single digit. Add the two numbers and return it as a linked list.</p>
<p>You may assume the two numbers do not contain any leading zero, except the number 0 itself.</p>
<p><strong>Follow up:</strong>
What if you cannot modify the input lists? In other words, reversing the lists is not allowed.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: (7 -&gt; 2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class="line">Output: 7 -&gt; 8 -&gt; 0 -&gt; 7</span><br></pre></td></tr></table></figure>
</blockquote>
<p>翻转链表后相加再翻转回来。至于Follow up，关键的问题在于加法要求最低位对齐，而单向链表又不能回溯，所以最直接的办法就是用两个数组或者栈保存每个节点的前一个节点……虽然我觉得这实在是有点多此一举，不过没有想到什么更好的办法。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode* <span class="title">addTwoNumbers</span><span class="params">(ListNode* l1, ListNode* l2)</span> </span>&#123;</span><br><span class="line">        l1 = reverseList(l1);</span><br><span class="line">        l2 = reverseList(l2);</span><br><span class="line">        <span class="function">ListNode <span class="title">ret</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">        ListNode *p = &amp;ret, *p1 = l1, *p2 = l2;</span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(p1 || p2 || carry &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> s;</span><br><span class="line">            <span class="keyword">if</span>(p1 &amp;&amp; p2)&#123;</span><br><span class="line">                s = p1-&gt;val + p2-&gt;val + carry;</span><br><span class="line">                p1 = p1-&gt;next;</span><br><span class="line">                p2 = p2-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(p1)&#123;</span><br><span class="line">                s = p1-&gt;val + carry;</span><br><span class="line">                p1 = p1-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(p2)&#123;</span><br><span class="line">                s = p2-&gt;val + carry;</span><br><span class="line">                p2 = p2-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                s = carry;</span><br><span class="line">            &#125;</span><br><span class="line">            p-&gt;next = <span class="keyword">new</span> ListNode(s % <span class="number">10</span>);</span><br><span class="line">            carry = s / <span class="number">10</span>;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        ret.next = reverseList(ret.next);</span><br><span class="line">        <span class="keyword">return</span> ret.next;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseList</span><span class="params">(ListNode *l)</span></span>&#123;</span><br><span class="line">        ListNode *p1, *p2;</span><br><span class="line">        p1 = l; p2 = l-&gt;next;</span><br><span class="line">        <span class="keyword">while</span>(p2)&#123;</span><br><span class="line">            ListNode *tmp = p2-&gt;next;</span><br><span class="line">            p2-&gt;next = p1;</span><br><span class="line">            p1 = p2;</span><br><span class="line">            p2 = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        l-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span> p1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2017/01/09/%E6%8F%90%E7%9D%A3%E7%9D%80%E4%BB%BB%E4%B8%80%E5%91%A8%E5%B9%B4/">提督着任一周年</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Jan 9, 2017
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>说到几年来ACG中最火爆的​IP，舰娘是不得不提到的。我从什么时候开始想尝试一下《舰队Collection》这个游戏已经不记得了，总之是在我开始玩之前就挺久了，我又有一种类似于「原教旨」主义的强迫症，就是除非有足够充足的理由，否则从多个相似的东西中我会选最早出现的或者最初始的，所以我对于国内的一些模仿的游戏没有什么兴趣。但是DMM封锁非日本IP对于国内玩家是一道高墙，虽然我常年FQ，但是一直用美国的地址，2015年我换了VPS后终于有了日本的IP，但是这个IP又过了好几个月才被DMM认为是日本IP，在加上要抢号所以就一直拖延着没有入坑。一年前放寒假在家也不知道我当时是怎么想的，尝试着登陆了一下发现竟然可以访问，于是直接跳进了这个巨坑。</p>
<img src="http://ww1.sinaimg.cn/large/4c1654ddgw1fbkn27fqu2j20m80dcn9h.jpg" alt="" referrerpolicy="no-referrer"></img>
<p>话说当时还只开放柱岛一个服务器，死鱼岛还没有变成秃子岛。一开始的时候俩眼一抹黑，我也不喜欢在贴吧或一些QQ群里问问题，所以我搜到了萌百的舰C条目，所以基本上是一直看萌百来玩的。</p>
<h1 id="舰娘">舰娘</h1>
<p>初始舰选的是五月雨，原因嘛因为是种田大法。不过我到现在也无法释怀的黑历史就是沉了初始舰……当时作为一名单打独斗的纯萌新，对于大破进击完全没有概念，根本没有想到会沉船，所以就悲剧了……我一直觉得非常对不起我的初始舰，大概半年前疯传五月雨改二还是江风改二的时候贴吧有一篇帖子，标题大概是「初始舰的不同命运」，看到的时候我就一直在想我的初始舰已经看不到现在欣欣向荣的镇守府了。因为这新米提督时期的阴影，所以我发誓一定不会再发生沉船，而且第二次捞上来的五月雨是镇守府第二艘婚舰，也是等级最高的DD。</p>
<p>一开始的时候我的赌船运气并不好，第一艘战舰是扶桑（第一艘婚舰+镇守府最高等级），像五航战、长门级还有铃熊之类比较稀有的普建船基本就没有赌出来过。但是推图倒是很顺利，大船一路碾压到3-2,当时因为没有经验，不像大多数萌新一样先去1-5泡到80级，所以小船练度基本就是没有，3-2又是不能上大船的图，所以临时去1-5把神通川内时雨poi改二了，之后1-5就变成了核潜艇……那时候才开始看到一些dalao对新人的建议，看到说提督等级80以后练小船非常难，所以一直担心我小船练度上不去，不过后来才知道并不需要担心，5-1批量练小船更舒服，浓密如我练级的时候都不红脸的，靠时间也把小船基本都练了（虽然肝婚有点漫长）。</p>
<p>贴吧总是能看到各种非洲人的大建记录贴，我差点以为我也会非的不行，但是幸好没有。因为远征从来不刷闪，所以我的资源增长只够两三天一发大建的，前前后后建了30次左右吧就毕业了，我还记得第一次赌大凤出了我没有的飞龙……现在想来我的双大武B除了大和都是用手机赌出来的，难道真的有buff？出货顺序武藏，大和，BSM，大凤，BSM和漏尿凤是在同一天晚上连出的，我感觉我能吹好久哈哈^^。</p>
<p>至于活动图捞船运气倒是不错，大多数都能入手，新船还没有拿不到的，最多精污100多把……印象比较深的有春活E7捞亲潮，夏活捞欧根和云龙。</p>
<h1 id="活动">活动</h1>
<p>入坑到现在打了四次活动，死咸咸咸，跟现在的萌新没法比啊(｡ŏ_ŏ)。三次大的下滑就是活动时期……</p>
<img src="http://ww4.sinaimg.cn/large/4c1654ddgw1fbkmef0lwxj21080g240t.jpg" alt="" referrerpolicy="no-referrer"></img>
<p>16冬活死在E1,没有对潜装备潜水姬怎么都砸不死，而且当时对于活动还没有什么概念，打了一两天直接放弃了……结果Zara一直绝版到现在……</p>
<img src="http://ww4.sinaimg.cn/large/4c1654ddgw1fbkmhvdtp8j207a06w3ym.jpg" alt="" referrerpolicy="no-referrer"></img>
<p>春活作为史上最屎的有力竞争者，我现在都不想再去回忆当时是怎么打的，E2的DJ姬，E5的彼岸花姬和E6E7的核弹……即使吃丙也是噩梦。没有火箭弹，没有战车，全靠340硬怼，我只记得斩掉E5的时候我真的是从椅子上蹦了起来……不过E2倒是捞船的福利，连开十几个图鉴。五月下旬那密集的锯齿状的曲线就是每天捞船造成的……</p>
<p>接下来的夏活倒是比较平淡。然后就是MMPヲ改遍地的秋活。本来我觉得我的练度也差不多了，可以试试关底打甲，但是事实却是甲甲乙丙丙……</p>
<img src="http://ww2.sinaimg.cn/large/4c1654ddgw1f9zmknkoaxj204z05i747.jpg" alt="" referrerpolicy="no-referrer"></img>
<h1 id="fin">Fin</h1>
<p>我玩舰C的第二天就充钱氪了两个澡堂，到现在又氪了90个床位+4枚戒指，一年的花销也并不大。但是舰C是个极度需要时间的游戏，练级要时间，捞船要等活动，攒资源要时间，可以说玩的时间越长越厉害（所以dalao永远是dalao）……作为一位修仙玩家，我基本上这一年来天天登录，打演习，练级，远征。幸好舰C不需要太高的注意力，完全可以放在一边偶尔点几下，所以也并不怎么影响干正事。</p>
<p>一年了，每天登录到母港已经是一种习惯，70级以上的船也差不多有100艘了，一年前的新米提督早已今非昔比（但从各方面来说依然还是萌新），玩到现在仍然很有乐趣，真是希望能再玩好多年啊……</p>
<p>闲话说了那么多，该结束了，以后的日子也请各位姑娘们多多指教！よろしくお願いします！</p>
<img src="http://ww4.sinaimg.cn/large/4c1654ddgw1fbkmefpqg3j20nm0e6nga.jpg" alt="" referrerpolicy="no-referrer"></img>
        
      
    </div>

    

    

  </article>

    
  </section>

  
  <nav class="pagination">
    
      <a class="prev" href="/page/13/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text">Prev</span>
      </a>
    
    
      <a class="next" href="/page/15/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


          </div>
          

        </div>  
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:xiadong.main@gmail.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
        
          <a href="https://www.facebook.com/xiadong1994" target="_blank" rel="noopener" class="iconfont icon-facebook" title="facebook"></a>
        
      
    
      
        
          <a href="https://www.linkedin.com/in/dong-xia" target="_blank" rel="noopener" class="iconfont icon-linkedin" title="linkedin"></a>
        
      
    
      
    
      
        
          <a href="https://github.com/Shell32-Natsu" target="_blank" rel="noopener" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
      
    
    
    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>



<div class="friend-links">
    <span>Links:&nbsp;</span>
    
        <a href="https://wf94.github.io/" target="_blank" rel="noopener" class="friend-links-item">打满鸡血来刷题</a>
    
        <a href="http://tianyuh.com/" target="_blank" rel="noopener" class="friend-links-item">塞外麾下炙</a>
    
</div>


<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>
  </span>
  
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2014 - 
    
    2021

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Shell32</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    


    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.3.x"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.3.x"></script>
<script type="text/javascript">
$(function(){
    const imgs = $("img").filter(function() {
        return this.src.match(/.*\.sinaimg\.cn\/.*/);
    });
    for (let i = 0; i < imgs.length; i++) {
        let img = imgs[i];
        $(img).attr('referrerpolicy', 'no-referrer');
    }
    console.log(`Removed referrer header for ${imgs.length} sina weibo images.`);
});
</script>
    
    <!-- Go to www.addthis.com/dashboard to customize your tools --> <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-58f2179bf0859c32"></script> 
  </body>
</html>
