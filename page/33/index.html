<!DOCTYPE html>
<html lang="en">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />









  <link rel="alternate" href="/atom.xml" title="Shell32">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.3.x" />



<link rel="canonical" href="http://blog.xiadong.info/page/33/"/>


<meta property="og:type" content="website">
<meta property="og:title" content="Shell32">
<meta property="og:url" content="http://blog.xiadong.info/page/33/index.html">
<meta property="og:site_name" content="Shell32">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Shell32">
<meta name="twitter:card" content="summary">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.3.x" />



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />





<script>
  var CONFIG = {
    search: false,
    searchPath: "/search.xml",
    fancybox: true,
    toc: true,
  }
</script>




  

  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-97442160-1', 'auto');
        ga('send', 'pageview');
  </script>




<script src="https://use.typekit.net/tqr0ojg.js"></script>
<script>try{Typekit.load({ async: true });}catch(e){}</script>

    <title> Shell32 </title>
  <meta name="generator" content="Hexo 4.2.1"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Shell32</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
      <a href="/about">
        <li class="mobile-menu-item">
          
          
            About
          
        </li>
      </a>
    
      <a href="https://cse.google.com/cse/publicurl?cx=007205548471419455342:wndla_xl_3e" target="_blank" rel="noopener">
        <li class="mobile-menu-item">
          
          
            Search
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Shell32</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              Home
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              Archives
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              Tags
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              Categories
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/about">
            
            
              About
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="https://cse.google.com/cse/publicurl?cx=007205548471419455342:wndla_xl_3e" target="_blank" rel="noopener">
            
            
              Search
            
          </a>
        </li>
      
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  <section id="posts" class="posts">
    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2016/08/07/leetcode-66-plus-one/">LeetCode 66. Plus One</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Aug 7, 2016
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述:</p>
<blockquote>
<p>Given a non-negative number represented as an array of digits, plus one to the number.</p>
<p>The digits are stored such that the most significant digit is at the head of the list.</p>
</blockquote>
<p>数组模拟计算, 由于只加1, 所以比较简单.</p>
<pre><code>class Solution {
public:
    vector&lt;int&gt; plusOne(vector&lt;int&gt; &amp;digits) {
        vector&lt;int&gt; ret = digits;
        int jw = 1;
        for(int i = ret.size() - 1; i &gt;= 0 &amp;&amp; jw; i--){
            ret[i]++;
            if(ret[i] == 10){
                jw = 1;
                ret[i] = 0;
            }
            else{
                jw = 0;
            }
        }
        if(jw){
            ret.insert(ret.begin(), 1);
        }
        return ret;
    }
};</code></pre>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2016/08/06/leetcode-65-valid-number/">LeetCode 65. Valid Number</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Aug 6, 2016
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述:</p>
<blockquote>
<p>Validate if a given string is numeric.</p>
<p>Some examples:</p>
<p><code>&quot;0&quot;</code> =&gt; <code>true</code></p>
<p><code>&quot; 0.1 &quot;</code> =&gt; <code>true</code></p>
<p><code>&quot;abc&quot;</code> =&gt; <code>false</code></p>
<p><code>&quot;1 a&quot;</code> =&gt; <code>false</code></p>
<p><code>&quot;2e10&quot;</code> =&gt; <code>true</code></p>
<p>Note: It is intended for the problem statement to be ambiguous. You should gather all requirements up front before implementing one.</p>
</blockquote>
<p>判断一个输入字符串是否是数字, 这道题的要求并不是很明确, 一下子很难想的全面, 并且也不容易跟出题人想到一块去. 实际上主要有以下几点:</p>
<ul>
<li>字符串前后可以有空格, 但是数字中间不能出现空格</li>
<li>允许出现的字符有<code>+</code>, <code>-</code>, <code>.</code>, <code>e</code>和阿拉伯数字</li>
<li>数字可以以<code>.</code>开头或结尾</li>
<li>e后面的指数部分只能是整数</li>
</ul>
<pre><code>class Solution {
public:
    bool isNumber(string s) {
        delSpace(s);
        for(int i = 0; i &lt; s.length(); i++){ // 检查除e, ., 和数字以外的字符
            if((s[i] &lt; '0' || s[i] &gt; '9')  &amp;&amp; s[i] != 'e' &amp;&amp; s[i] != '.' &amp;&amp; s[i] != '-' &amp;&amp; s[i] != '+') return false;
        }
        int eCnt = 0;
        for(int i = 0; i &lt; s.length(); i++){ // 计算e的个数
            if(s[i] == 'e') eCnt++;
        }
        //printf(&quot;%d\n&quot;, eCnt);
        if(eCnt &gt; 1) return false; // e多于1个则返回false
        if(eCnt == 1){
            // 如果有e出现, 前后都有不含e的数字
            int i;
            for(i = 0; s[i] != 'e'; i++);
            // e的前面可以是小数, 但是后面不可以
            if(!isNumberWithoutE(s.substr(0, i)) || !isNumberWithoutEAndDot(s.substr(i + 1, s.length() - i - 1))){
                return false;
            }
            else return true;
        }
        else{
            // 如果没有e
            return isNumberWithoutE(s);
        }
    }
    
    bool isNumberWithoutE(string s){ // 判断是不是不包含e的数字
        if(s.empty()) return false;
        if(s.length() == 1 &amp;&amp; (s[0] == '.' || s[0] == '-' || s[0] == '+')) return false; // 只有符号或小数点
        int dashPos = -1, dotCnt = 0, plusSignPos = -1;
        for(int i = 0; i &lt; s.length(); i++){ // 查找是否有不位于开头的正负号
            if(s[i] == '-') dashPos = i;
            else if(s[i] == '+') plusSignPos = i;
        }
        if(dashPos &gt; 0 || plusSignPos &gt; 0) return false;
        if(s[0] == '+' || s[0] == '-'){ // 清除开头的正负号
            s.erase(s.begin(), s.begin() + 1);
        }
        if(s.length() == 1 &amp;&amp; s[0] == '.') return false; // 如果去掉符号后只有小数点了, 那么不是数字
        for(int i = 0; i &lt; s.length(); i++){ // 计算小数点的数量
            if(s[i] == '.') dotCnt++;
        }
        if(dotCnt &gt; 1) return false;
        else return true;
    }
    
    bool isNumberWithoutEAndDot(string s){ //判断是不是不包含e的整数
        if(s.empty()) return false;
        if(s.length() == 1 &amp;&amp; (s[0] == '.' || s[0] == '-' || s[0] == '+')) return false;
        int dashPos = -1, plusSignPos = -1;
        for(int i = 0; i &lt; s.length(); i++){ // 查找是否有不位于开头的正负号
            if(s[i] == '-') dashPos = i;
            else if(s[i] == '+') plusSignPos = i;
            else if(s[i] == '.') return false; // 如果有小数点则返回false
        }
        if(dashPos &gt; 0 || plusSignPos &gt; 0) return false;
        else return true;
    }
    
    void delSpace(string &amp;s){ //删除前后空格
        int i;
        for(i = 0; i &lt; s.size() &amp;&amp; s[i] == ' '; i++);
        s.erase(s.begin(), s.begin() + i);
        for(i = 0; i &lt; s.size() &amp;&amp; s[s.size() - i - 1] == ' '; i++);
        s.erase(s.end() - i, s.end());
    }
};</code></pre>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2016/08/06/leetcode-64-minimum-path-sum/">LeetCode 64. Minimum Path Sum</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Aug 6, 2016
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述:</p>
<blockquote>
<p>Given a m x n grid filled with non-negative numbers, find a path from top left to bottom right which minimizes the sum of all numbers along its path.</p>
<p>Note: You can only move either down or right at any point in time.</p>
</blockquote>
<p>动态规划问题, 到达每个格子的最小的路径和等于到达左边左边格子的路径和与到达上面的格子的路径和中的较小值加上当前格子的值.</p>
<pre><code>class Solution {
public:
    int minPathSum(vector&lt;vector&lt;int&gt; &gt; &amp;grid) {
        int height = grid.size(), width = grid[0].size();
        
        for(int i = 1; i &lt; height; i++)
            grid[i][0] += grid[i - 1][0];
        for(int i = 1; i &lt; width; i++)
            grid[0][i] += grid[0][i - 1];
            
        for(int i = 1; i &lt; height; i++){
            for(int j = 1; j &lt; width; j++){
                grid[i][j] += (grid[i - 1][j] &lt; grid[i][j - 1] ? grid[i - 1][j] : grid[i][j - 1]);
            }
        }
        
        return grid[height - 1][width - 1];
    }
};</code></pre>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2016/08/05/leetcode-63-unique-paths-ii/">LeetCode 63. Unique Paths II</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Aug 5, 2016
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述</p>
<blockquote>
<p>Follow up for “Unique Paths”:</p>
<p>Now consider if some obstacles are added to the grids. How many unique paths would there be?</p>
<p>An obstacle and empty space is marked as 1 and 0 respectively in the grid.</p>
<p>For example,
There is one obstacle in the middle of a 3x3 grid as illustrated below.</p>
<pre><code>[
  [0,0,0],
  [0,1,0],
  [0,0,0]
]
</code></pre>
<p>The total number of unique paths is 2.</p>
<p>Note: m and n will be at most 100.</p>
</blockquote>
<p>紧跟着上一题<a href="http://xiadong.info/2016/08/leetcode-62-unique-paths/" target="_blank" rel="noopener">Unique Paths</a>, 这一题增加了条件, 在地图上会出现障碍物(用1表示), 障碍物不能出现在路线上. 仍然采用上一题的动态规划法, 只不过多了一条:</p>
<ul>
<li>所有障碍物的位置到达的路线数量都为0</li>
</ul>
<pre><code>class Solution {
public:
    int uniquePathsWithObstacles(vector&lt;vector&lt;int&gt;&gt;&amp; obstacleGrid) {
        int m = obstacleGrid.size();
        if(m == 0)
            return 0;
        int n = obstacleGrid[0].size();
        vector&lt;vector&lt;int&gt;&gt; arr(m, vector&lt;int&gt;(n, 0));
        int i, j;
        for(i = 0; i &lt; m &amp;&amp; obstacleGrid[i][0] != 1; i++)
            arr[i][0] = 1;
        for(i = 0; i &lt; n &amp;&amp; obstacleGrid[0][i] != 1; i++)
            arr[0][i] = 1;
        for(i = 1; i &lt; m; i++){
            for(j = 1; j &lt; n; j++){
                if(obstacleGrid[i][j])
                    continue;
                    
                arr[i][j] = arr[i - 1][j] + arr[i][j - 1];
            }
        }
        
        return arr[m - 1][n - 1];
    }
};</code></pre>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2016/08/05/leetcode-62-unique-paths/">LeetCode 62. Unique Paths</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Aug 5, 2016
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述:</p>
<blockquote>
<p>A robot is located at the top-left corner of a m x n grid (marked ‘Start’ in the diagram below).</p>
<p>The robot can only move either down or right at any point in time. The robot is trying to reach the bottom-right corner of the grid (marked ‘Finish’ in the diagram below).</p>
<p>How many possible unique paths are there?</p>
<p><img src="http://leetcode.com/wp-content/uploads/2014/12/robot_maze.png" alt=""></p>
<p>Above is a 3 x 7 grid. How many possible unique paths are there?</p>
<p>Note: m and n will be at most 100.</p>
</blockquote>
<p>经典的动态规划题目, 由于每一个格子只能从上面的格子和左面的格子到达, 所以到达每个格子的路线数量等于到达上面格子的路线数量+到达左面格子的路线数量.</p>
<pre><code>class Solution {
public:
    int uniquePaths(int m, int n) {
        int arr[m][n];
        int i, j;
        for(i = 0; i &lt; m; i++)
            arr[i][0] = 1;
        for(i = 0; i &lt; n; i++)
            arr[0][i] = 1;
        for(i = 1; i &lt; m; i++){
            for(j = 1; j &lt; n; j++){
                arr[i][j] = arr[i - 1][j] + arr[i][j - 1];
            }
        }
        
        return arr[m - 1][n - 1];
    }
};</code></pre>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2016/08/05/leetcode-61-rotate-list/">LeetCode 61. Rotate List</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Aug 5, 2016
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述:</p>
<blockquote>
<p>Given a list, rotate the list to the right by k places, where k is non-negative.</p>
<p>For example:</p>
<p>Given 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL and k = 2,</p>
<p>return 4-&gt;5-&gt;1-&gt;2-&gt;3-&gt;NULL.</p>
</blockquote>
<p>最简单的方法是把所有节点指针保存在一个数组中, 设总长度为<code>len</code>, 然后找到第<code>len - k</code>个节点为新链表的头结点, 它之前的节点是新链表的尾节点. 把原链表的尾节点指向头结点即可. 要注意<code>k</code>可能会大于<code>len</code>, 所以可以先把<code>k</code>对<code>len</code>取余.</p>
<pre><code>/**
* Definition for singly-linked list.
* struct ListNode {
*     int val;
*     ListNode *next;
*     ListNode(int x) : val(x), next(NULL) {}
* };
*/
class Solution {
public:
    ListNode* rotateRight(ListNode* head, int k) {
        if(!head)
            return head;
        vector&lt;ListNode*&gt; l;
        ListNode* p = head, *reHead;
        while(p){
            l.push_back(p);
            p = p-&gt;next;
        }
        
        k = k % l.size();
        if(k == 0)
            return head;
        auto iter = l.end() - k;
        (*(iter - 1))-&gt;next = NULL;
        (*(l.end() - 1))-&gt;next = *(l.begin());
        return *iter;
    }
};
</code></pre>
<p>不使用额外空间的方法需要多遍历几次链表:</p>
<pre><code>class Solution {
public:
    ListNode* rotateRight(ListNode* head, int k) {
        if(!head)
            return head;
        int len = 0;
        ListNode *p = head, *newHead = nullptr, *tail = nullptr, *newTail = nullptr;
        while(p){
            len++;
            if(!p-&gt;next)
                tail = p;
            p = p-&gt;next;
        }
        k = k % len;
        if(!k) return head;
        newHead = head;
        for(int i = 0; i &lt; len - k; i++){
            newTail = newHead;
            newHead = newHead-&gt;next;
        }
        newTail-&gt;next = nullptr;
        tail-&gt;next = head;
        return newHead;
    }
};</code></pre>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2016/08/04/leetcode-60-permutation-sequence/">LeetCode 60. Permutation Sequence</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Aug 4, 2016
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述:</p>
<blockquote>
<p>The set [1,2,3,…,n] contains a total of n! unique permutations.</p>
<p>By listing and labeling all of the permutations in order,
We get the following sequence (ie, for n = 3):</p>
<ol>
<li>“123”</li>
<li>“132”</li>
<li>“213”</li>
<li>“231”</li>
<li>“312”</li>
<li>“321”</li>
</ol>
<p>Given n and k, return the kth permutation sequence.</p>
<p>Note: Given n will be between 1 and 9 inclusive.</p>
</blockquote>
<p>返回[1,n]n个数字的全排列按照字典序排序后的第k个排列, n在[1,9]的范围内.</p>
<p>通过观察题目给出的<code>n = 3</code>的全排列可以看出, 以1, 2, 3开头的排列各有两个. n的全排列有<code>n!</code>种, 而以[1,n]中某个数字开头的排列种数有<code>(n - 1)!</code>种, 所以第k个排列的第一个数为<code>(k - 1) / (n - 1)! + 1</code>. 将k更新为<code>k % (n - 1)!</code>, 把第一个已经确定的数从数字集合中去掉(该集合应有序), 就可以以类似递归的方法确定整个序列.</p>
<p>实际上每一次确定数字在集合数组中的下标比直接确定数字要更加有效. 而且由于n在1到9之间, 因此可以先把<code>n!</code>计算出来放到数组中.</p>
<pre><code>class Solution {
public:
    vector&lt;int&gt; arr = {0, 1, 2, 6, 24, 120, 720, 5040, 40320, 362880};
    string getPermutation(int n, int k) {
        int kk = k - 1;
        vector&lt;int&gt; nums;
        for(int i = 1; i &lt;= n; i++){
            nums.push_back(i); //nums[i]的值实际是i + 1
        }
        string ret;
        for(int i = 0; i &lt; n; i++){
            if(i == n - 1){
                ret.push_back(nums[0] + '0'); //i = n - 1时下方会出现除零错误
                break;
            }
            int t = kk / arr[n - 1 - i];
            ret.push_back(nums[t] + '0'); //因为nums[i] = i + 1, 所以不需要再加1
            nums.erase(nums.begin() + t); //把已经确定的元素删除
            kk = kk % arr[n - i - 1];
        }
        return ret;
    }
};</code></pre>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2016/08/04/leetcode-59-spiral-matrix-ii/">LeetCode 59. Spiral Matrix II</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Aug 4, 2016
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述:</p>
<blockquote>
<p>Given an integer n, generate a square matrix filled with elements from 1 to n2 in spiral order.</p>
<p>For example,
Given n = 3,</p>
<p>You should return the following matrix:</p>
<pre><code>[
  [ 1, 2, 3 ],
  [ 8, 9, 4 ],
  [ 7, 6, 5 ]
]
</code></pre>
</blockquote>
<p>螺旋输出序列. 首先用一个循环, 在循环体内填充一圈数字, 直到所有位置填满.</p>
<pre><code>class Solution {
public:
    vector&lt;vector&lt;int&gt; &gt; generateMatrix(int n) {
        vector&lt;vector&lt;int&gt; &gt; ret(n, vector&lt;int&gt;(n, 0));
        if(n == 0)return ret;
        int a = 1;
        for(int i = n; i &gt; 0; i-=2){ // 圈数应为n/2
            if(i == 1 &amp;&amp; n % 2 == 1){ // 当n为奇数时, 最内圈只有一个元素
                ret[(n - i) / 2][(n - i) / 2] = a++;
                break;
            }
            for(int j = (n - i) / 2; j &lt; n - (n - i) / 2 - 1; j++) // 填充上边的行
                ret[(n - i) / 2][j] = a++;
            for(int j = (n - i) / 2; j &lt; n - (n - i) / 2 - 1; j++) // 填充右边的列
                ret[j][n - (n - i) / 2 - 1] = a++;
            for(int j = n - (n - i) / 2 - 1; j &gt; (n - i) / 2; j--) // 填充下边的行
                ret[n - (n - i) / 2 - 1][j] = a++;
            for(int j = n - (n - i) / 2 - 1; j &gt; (n - i) / 2; j--) // 填充左边的列
                ret[j][(n - i) / 2] = a++;
        }
        
        return ret;
    }
};</code></pre>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2016/08/04/leetcode-58-length-of-last-word/">LeetCode 58. Length of Last Word</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Aug 4, 2016
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述:</p>
<blockquote>
<p>Given a string s consists of upper/lower-case alphabets and empty space characters ’ ', return the length of last word in the string.</p>
<p>If the last word does not exist, return 0.</p>
<p>Note: A word is defined as a character sequence consists of non-space characters only.</p>
<p>For example,
Given s = “Hello World”,
return 5.</p>
</blockquote>
<p>找出一个字符串中最后一个单词的长度, 没有什么好说的, 从后往前搜索.</p>
<pre><code>class Solution {
public:
    int lengthOfLastWord(string s) {
        int end = s.size();
        if(end == 0)
            return 0;
        for(; end &gt;= 1 &amp;&amp; s[end - 1] == ' '; end--); // 跳过结尾的空格
        int i;
        for(i = end - 1; i &gt;= 0 &amp;&amp; s[i] != ' '; i--);
        return end - i - 1;
    }
};</code></pre>

        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2016/08/03/leetcode-57-insert-interval/">LeetCode 57. Insert Interval</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Aug 3, 2016
        </span>
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        

        
          <p>题目描述:</p>
<blockquote>
<p>Given a set of non-overlapping intervals, insert a new interval into the intervals (merge if necessary).</p>
<p>You may assume that the intervals were initially sorted according to their start times.</p>
<p>Example 1:</p>
<p>Given intervals <code>[1,3],[6,9]</code>, insert and merge <code>[2,5]</code> in as <code>[1,5],[6,9]</code>.</p>
<p>Example 2:</p>
<p>Given <code>[1,2],[3,5],[6,7],[8,10],[12,16]</code>, insert and merge <code>[4,9]</code> in as <code>[1,2],[3,10],[12,16]</code>.</p>
<p>This is because the new interval <code>[4,9]</code> overlaps with <code>[3,5],[6,7],[8,10]</code>.</p>
</blockquote>
<p>向一个已经按照start排好序的区间数组中插入新区间, 问题分为两个部分:</p>
<ol>
<li>找到插入位置</li>
<li>确定区间是否需要合并, 如何合并</li>
</ol>
<p>用语言来说还是不太好说清楚, 还是看注释吧.</p>
<pre><code>/**
* Definition for an interval.
* struct Interval {
*     int start;
*     int end;
*     Interval() : start(0), end(0) {}
*     Interval(int s, int e) : start(s), end(e) {}
* };
*/
class Solution {
public:
    vector&lt;Interval&gt; insert(vector&lt;Interval&gt;&amp; intervals, Interval newInterval) {
        vector&lt;Interval&gt; ret;
        if(intervals.empty()){ // 如果intervals为空就返回只包含newInterval的数组
            ret.push_back(newInterval);
            return ret;
        }
        int i;
        // 以下循环用于跳过所有end小于newInterval.start, 也就是所有小于newInterval并且
        // 与newInterval没有交集的区间
        for(i = 0; i &lt; intervals.size() &amp;&amp; intervals[i].end &lt; newInterval.start; i++);
        // 如果i == intervals.size(), 说明所有元素都小于newInterval, 把它插入到最后即可
        if(i == intervals.size()){
            intervals.push_back(newInterval);
            return intervals;
        }
        int j = i;
        // 将要插入的新区间
        Interval t;
        // 此时j = i, intervals[j]是end &gt;= newInterval.start的第一个元素,但它们的start
        // 关系还不确定, 因此要插入的start值是intervals[j].start和newInterval.start中较
        // 小的一个
        t.start = min(intervals[j].start, newInterval.start);
        // 寻找start &gt; newInterval.end的元素, 该元素之前的元素是要与newInterval合并的区间
        for(; j &lt; intervals.size() &amp;&amp; intervals[j].start &lt;= newInterval.end; j++);
        // 如果j == intervals.size()说明i之后的所有区间都要与newInterval合并,
        // 所以t.end是newInterval.end和intervals.back().end中较大的值.
        // 然后删除intervals中i之后的元素(包括i, 因为i也与newInterval有交集),
        // 最后插入t
        if(j == intervals.size()){
            t.end = max(newInterval.end, intervals.back().end);
            intervals.erase(intervals.begin() + i, intervals.end());
            intervals.push_back(t);
            return intervals;
        }
        // 否则intervals[j - 1]是start &lt;= newInterval.end的最后一个元素, 也就是与newInterval
        // 有交集的最后一个元素, t.end的值是newInterval.end和intervals[j - 1].end中较大的.
        // 从intervals中移除下标在[i, j-1]范围内的元素, 在i位置插入新区间t.
        else{
            t.end = max(newInterval.end, intervals[j - 1].end);
            intervals.erase(intervals.begin() + i, intervals.begin() + j);
            intervals.insert(intervals.begin() + i, t);
        }
        return intervals;
    }
};</code></pre>

        
      
    </div>

    

    

  </article>

    
  </section>

  
  <nav class="pagination">
    
      <a class="prev" href="/page/32/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text">Prev</span>
      </a>
    
    
      <a class="next" href="/page/34/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


          </div>
          

        </div>  
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:xiadong.main@gmail.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
        
          <a href="https://www.facebook.com/xiadong1994" target="_blank" rel="noopener" class="iconfont icon-facebook" title="facebook"></a>
        
      
    
      
        
          <a href="https://www.linkedin.com/in/dong-xia" target="_blank" rel="noopener" class="iconfont icon-linkedin" title="linkedin"></a>
        
      
    
      
    
      
        
          <a href="https://github.com/Shell32-Natsu" target="_blank" rel="noopener" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
      
    
    
    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>



<div class="friend-links">
    <span>Links:&nbsp;</span>
    
        <a href="https://wf94.github.io/" target="_blank" rel="noopener" class="friend-links-item">打满鸡血来刷题</a>
    
        <a href="http://tianyuh.com/" target="_blank" rel="noopener" class="friend-links-item">塞外麾下炙</a>
    
</div>


<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>
  </span>
  
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2014 - 
    
    2021

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Shell32</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    


    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.3.x"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.3.x"></script>
<script type="text/javascript">
$(function(){
    const imgs = $("img").filter(function() {
        return this.src.match(/.*\.sinaimg\.cn\/.*/);
    });
    for (let i = 0; i < imgs.length; i++) {
        let img = imgs[i];
        $(img).attr('referrerpolicy', 'no-referrer');
    }
    console.log(`Removed referrer header for ${imgs.length} sina weibo images.`);
});
</script>
    
    <!-- Go to www.addthis.com/dashboard to customize your tools --> <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-58f2179bf0859c32"></script> 
  </body>
</html>
